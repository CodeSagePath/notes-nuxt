import{u as M,_ as O}from"./DRUhUeLn.js";import{m as R,g as T,_ as q,h as K,i as P,j as z,k as h,l as F,n as J,o as t,q as m,w as y,c as p,r as A,s as D,v as b,x as L,y as G,z as Y,A as j,a as c,t as x,b as v,F as H,B as Q,C as g,D as W,E as Z,G as ee,H as ne,I as w,J as ae,K as oe,L as te,M as se}from"./z1194Smb.js";const re={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},le={base:"mx-auto",padding:"px-4 sm:px-6 lg:px-8",constrained:"max-w-7xl"},ue=R(T.ui.strategy,T.ui.card,re),de=K({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:o,attrs:r}=P("card",z(e,"ui"),ue),u=h(()=>F(J(o.value.base,o.value.rounded,o.value.divide,o.value.ring,o.value.shadow,o.value.background),e.class));return{ui:o,attrs:r,cardClass:u}}});function ie(e,o,r,u,l,d){return t(),m(G(e.$attrs.onSubmit?"form":e.as),L({class:e.cardClass},e.attrs),{default:y(()=>[e.$slots.header?(t(),p("div",{key:0,class:A([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[D(e.$slots,"header")],2)):b("",!0),e.$slots.default?(t(),p("div",{key:1,class:A([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[D(e.$slots,"default")],2)):b("",!0),e.$slots.footer?(t(),p("div",{key:2,class:A([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[D(e.$slots,"footer")],2)):b("",!0)]),_:3},16,["class"])}const ce=q(de,[["render",ie]]),me=R(T.ui.strategy,T.ui.container,le),pe=K({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:o,attrs:r}=P("container",z(e,"ui"),me),u=h(()=>F(J(o.value.base,o.value.padding,o.value.constrained),e.class));return{ui:o,attrs:r,containerClass:u}}});function fe(e,o,r,u,l,d){return t(),m(G(e.as),L({class:e.containerClass},e.attrs),{default:y(()=>[D(e.$slots,"default")]),_:3},16,["class"])}const X=q(pe,[["render",fe]]),ge={class:"column-header mb-4 bg-gradient-to-br from-blue-600 via-blue-400 to-blue-500 p-2 rounded"},be={key:1},ve={__name:"BoardColumn",props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0}},setup(e){const o=e,r=M(),u=Y(),l=j(!1),d=j("");function I(){r.addTask({taskName:d.value,columnIndex:o.columnIndex}),d.value=""}function _(a){r.deleteColumn(a)}function V(a,{toColumnIndex:n,toTaskIndex:i}){const f=a.dataTransfer.getData("type"),C=a.dataTransfer.getData("from-column-index");if(f==="task"){const S=a.dataTransfer.getData("from-task-index");r.moveTask({fromTaskIndex:S,toTaskIndex:i,fromColumnIndex:C,toColumnIndex:n})}else f==="column"&&r.moveColumn({fromColumnIndex:C,toColumnIndex:n})}function k(a){u.push(`/tasks/${a}`)}function N(a,n){a.dataTransfer.effectAllowed="move",a.dataTransfer.dropEffect="move",a.dataTransfer.setData("type","column"),a.dataTransfer.setData("from-column-index",n)}function U(a,{fromColumnIndex:n,fromTaskIndex:i}){a.dataTransfer.effectAllowed="move",a.dataTransfer.dropEffect="move",a.dataTransfer.setData("type","task"),a.dataTransfer.setData("from-column-index",n),a.dataTransfer.setData("from-task-index",i)}const B=h(()=>o.column.tasks.length);return(a,n)=>{const i=O,f=Z,C=ce,S=X;return t(),m(S,{class:"column",draggable:"true",onDragstart:n[5]||(n[5]=g(s=>N(s,e.columnIndex),["self"])),onDragenter:n[6]||(n[6]=g(()=>{},["prevent"])),onDragover:n[7]||(n[7]=g(()=>{},["prevent"])),onDrop:n[8]||(n[8]=g(s=>V(s,{toColumnIndex:e.columnIndex}),["stop"]))},{default:y(()=>[c("div",ge,[c("div",null,[l.value?(t(),m(i,{key:0,type:"text",modelValue:e.column.name,"onUpdate:modelValue":n[0]||(n[0]=s=>e.column.name=s)},null,8,["modelValue"])):(t(),p("h2",be,x(e.column.name)+" "+x(B.value),1))]),c("div",null,[l.value?b("",!0):(t(),m(f,{key:0,icon:"i-heroicons-pencil-square",color:"yellow",class:"mr-2",onClick:n[1]||(n[1]=s=>l.value=!0)})),l.value?(t(),m(f,{key:1,icon:"i-heroicons-check",color:"green",class:"mr-2",onClick:n[2]||(n[2]=s=>l.value=!1)})):b("",!0),v(f,{icon:"i-heroicons-trash",color:"red",onClick:n[3]||(n[3]=s=>_(e.columnIndex))})])]),c("ul",null,[(t(!0),p(H,null,Q(e.column.tasks,(s,E)=>(t(),p("li",{key:s.id},[v(C,{class:"mb-4 bg-gradient-to-br from-blue-700 via-blue-500 to-blue-300",onClick:$=>k(s.id),draggable:"true",onDragstart:$=>U($,{fromColumnIndex:e.columnIndex,fromTaskIndex:E}),onDrop:g($=>V($,{toColumnIndex:e.columnIndex,toTaskIndex:E}),["stop"])},{default:y(()=>[c("strong",null,x(s.name),1),c("p",null,x(s.description),1)]),_:2},1032,["onClick","onDragstart","onDrop"])]))),128))]),v(i,{modelValue:d.value,"onUpdate:modelValue":n[4]||(n[4]=s=>d.value=s),type:"text",placeholder:"New Task",icon:"i-heroicons-plus-circle-solid",onKeyup:W(I,["enter"])},null,8,["modelValue"])]),_:1})}}},ye={class:"board-wrapper bg-gradient-to-br from-yellow-400 via-red-500 to-purple-600"},ke={class:"board"},xe={__name:"index",setup(e){const o=M(),r=ee(),u=ne(),l=j(""),d=h(()=>r.name==="index-tasks-id");function I(){o.addColumn(l.value),l.value=""}function _(){u.push("/")}return(V,k)=>{const N=ve,U=O,B=X,a=te;return t(),p("div",ye,[c("main",ke,[(t(!0),p(H,null,Q(w(o).board.columns,(n,i)=>(t(),m(N,{key:n.id,column:n,columnIndex:i},null,8,["column","columnIndex"]))),128)),v(B,{class:"columm"},{default:y(()=>[v(U,{modelValue:w(l),"onUpdate:modelValue":k[0]||(k[0]=n=>se(l)?l.value=n:null),type:"text",placeholder:"Create new column",icon:"i-heroicons-plus-circle-solid",onKeyup:W(I,["enter"])},null,8,["modelValue"])]),_:1})]),ae(c("div",{class:"task-bg",onClick:g(_,["self"])},[(t(),m(a,{key:w(r).fullPath}))],512),[[oe,w(d)]])])}}};export{xe as default};
